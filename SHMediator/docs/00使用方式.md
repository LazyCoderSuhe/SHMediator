# 安装 NuGet 包
```bash
dotnet add package SHMediator
```
# 注册服务
```csharp
using SHMediator;
using Microsoft.Extensions.DependencyInjection;
var services = new ServiceCollection();
services.AddSHMediator(typeof(Program).Assembly, options =>
{
    options.UseLoggingInterceptor = true;
    options.UseValidationInterceptor = true;
});
```	
# 三种 接口
    1. IRequest       --  IRequestHandler           请求无应答
    2. IRequest<,>    --  IRequestHandler<,>        请求有应答
    3. INotification  --  INotificationHandler      通知/广播
    
## 1. IRequest -- IRequestHandler
```csharp
public class MyRequest : IRequest
{
    public string Name { get; set; }
}
public class MyRequestHandler : IRequestHandler<MyRequest>
{
    public Task Handle(MyRequest request, CancellationToken cancellationToken)
    {
        Console.WriteLine($"Hello, {request.Name}!");
        return Task.CompletedTask;
    }
}
// 使用
var mediator = serviceProvider.GetRequiredService<IMediator>();
await mediator.Send(new MyRequest { Name = "World" }); // 输出: Hello, World!
```
## 2. IRequest<,> -- IRequestHandler<,>
``` 
public class MyRequest : IRequest<MyResponse>
{
    public string Name { get; set; }
}
public class MyResponse
{
    public string Message { get; set; }
}
public class MyRequestHandler : IRequestHandler<MyRequest, MyResponse>
{
    public Task<MyResponse> Handle(MyRequest request, CancellationToken cancellationToken)
    {
        return Task.FromResult(new MyResponse { Message = $"Hello, {request.Name}!" });
    }
}
// 使用
var mediator = serviceProvider.GetRequiredService<IMediator>();
var response = await mediator.Send(new MyRequest { Name = "World" });
Console.WriteLine(response.Message); // 输出: Hello, World!
```
## 3. INotification -- INotificationHandler
``` 
public class MyNotify : INotification
{
    public string Name { get; set; }
}
public class MyNotify01Handlder : INotificationHandler<MyNotify>
{
     public Task Handle(MyNotify notification, CancellationToken cancellationToken)
     {
         Console.WriteLine($"Notification 01 received: {notification.Name}");
         return Task.CompletedTask;
     }
}
public class MyNotify02Handlder : INotificationHandler<MyNotify>
{
     public Task Handle(MyNotify notification, CancellationToken cancellationToken)
     {
         Console.WriteLine($"Notification 02 received: {notification.Name}");
         return Task.CompletedTask;
     }
}
// 使用
var mediator = serviceProvider.GetRequiredService<IMediator>();
await mediator.Publish(new MyNotify { Name = "Test Notification" });
// 输出: Notification 01 received: Test Notification
// 输出: Notification 02 received: Test Notification
```
# 文档目录
- [使用方式](#/docs/00使用方式.md)
- [拦截器](#/docs/01拦截器.md) ;