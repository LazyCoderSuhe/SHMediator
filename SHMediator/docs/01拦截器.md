> 在 SHMediator 项目中添加了日志及验证拦截器，以增强请求处理的功能。日志拦截器用于记录请求的详细信息，便于调试和监控系统运行状态。验证拦截器则确保传入的请求数据符合预期的格式和规则，提高系统的安全性和稳定性。


# 配置日志及验证拦截器

```csharp
services.AddSHMediator(typeof(Program).Assembly, options=>{
    options.UseLoggingInterceptor = true;
    options.UseValidationInterceptor = true;
});
```

## 日志拦截器
日志拦截器使用的是 Microsoft.Extensions.Logging 框架，可以记录请求的开始时间、结束时间及处理结果。

## 验证拦截器
验证拦截器使用 FluentValidation 库，对请求进行验证，确保数据的完整性和正确性。

## 自定义拦截器
你也可以根据需要自定义拦截器，实现特定的功能。
```csharp
  public class MediatorLoggingInterceptor<TResponse> : DefaultMediatorInterceptor<TResponse>
    {
        private readonly ILogger<MediatorLoggingInterceptor<TResponse>> _logger;

        public MediatorLoggingInterceptor(ILogger<MediatorLoggingInterceptor<TResponse>> logger, MediatorInterceptorDelegate<TResponse> next)
            : base(next)
        {
            _logger = logger ?? throw new ArgumentNullException(nameof(logger));
        }
        public override Task<TResponse> Intercept(IRequest<TResponse> request, CancellationToken cancellationToken)
        {
            cancellationToken.ThrowIfCancellationRequested();
            _logger?.LogInformation("请求类型{RequestType} 正在发送", request.GetType().Name);
            try
            {
                return base.Intercept(request, cancellationToken);
            }
            finally
            {
                _logger?.LogInformation("请求类型{RequestType} 已经发送", request.GetType().Name);
            }
        }


    }

    public static class MediatorLoggingInterceptorExtensions
    {
        public static SHMediatorOptions UseMediatorLoggingInterceptor(this SHMediatorOptions builder)
        {
            return builder.UseSHMediatorInterceptor(typeof(MediatorLoggingInterceptor<>));
        }
    }

    // 使用自定义拦截器
    services.AddSingleton<STestInterceptor>();
    services.AddSHMediator(typeof(Program).Assembly, options=>{
    options.AddInterceptor(typeof(MediatorLoggingInterceptor<>));
    });
```
## 系统拦截器执行顺序
系统拦截器的执行顺序如下：
1. 日志拦截器
1. 验证拦截器
1. 自定义拦截器
