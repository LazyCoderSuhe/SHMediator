> 在 SHMediator 项目中添加了日志及验证拦截器，以增强请求处理的功能。日志拦截器用于记录请求的详细信息，便于调试和监控系统运行状态。验证拦截器则确保传入的请求数据符合预期的格式和规则，提高系统的安全性和稳定性。


# 配置日志及验证拦截器

```csharp
services.AddSHMediator(typeof(Program).Assembly, options=>{
    options.UseLoggingInterceptor = true;
    options.UseValidationInterceptor = true;
});
```

## 日志拦截器
日志拦截器使用的是 Microsoft.Extensions.Logging 框架，可以记录请求的开始时间、结束时间及处理结果。

## 验证拦截器
验证拦截器使用 FluentValidation 库，对请求进行验证，确保数据的完整性和正确性。

## 自定义拦截器
你也可以根据需要自定义拦截器，实现特定的功能。
```csharp
 public class STestInterceptor : DefaultSHMediatorInterceptor
    {
              private readonly IServiceProvider _serviceProvider;
        public STestInterceptor(ServiceProvider serviceProvider)
        {
            _serviceProvider = serviceProvider;
        }

        public override Task<bool> Sending(IRequest request)
        {
            ValidationCore(request, request.GetType());
            return base.Sending(request);
        }
        public override Task<bool> Sending<T>(IRequest<T> request )
        {
            ValidationCore(request, request.GetType());
            return base.Sending(request);
        }

        public override Task<bool> Publishing(INotification notification)
        {
            ValidationCore(notification, notification.GetType());
            return base.Publishing(notification );
        }

        private void ValidationCore(dynamic request , Type type)
        {
            ....
        }
    }

    // 使用自定义拦截器
    services.AddSingleton<STestInterceptor>();
    services.AddSHMediator(typeof(Program).Assembly, options=>{
    options.AddInterceptor<STestInterceptor>();
    });

```
拦截其提供 3 组方法，分别在请求发送前、请求处理后、通知发布前调用，你可以在这些方法中添加自定义逻辑。

在实现拦截器是可以继承 ISHMediatorInterceptor 或者 DefaultAsyncSHMediatorInterceptor 类，以简化实现过程。

